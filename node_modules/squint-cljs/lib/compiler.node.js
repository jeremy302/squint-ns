import { $APP, shadow$provide, $jscomp } from "./compiler.js";
import "./node.js";
const shadow_esm_import = function(x) { return import(x) };
import*as esm_import$fs from"fs";import*as esm_import$path from"path";var cH,dH,eH,sH,tH,DH,EH,FH,NH,OH,xH,CH,IH;$APP.bH=function(a,b){return $APP.qa(a,b)};cH=function(a,b){a.sort(b||$APP.Ba)};dH=function(a,b){const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||$APP.Ba;cH(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value};eH=function(){};
$APP.fH=function(a){return null!=a?a.D&512||$APP.Oc===a.Ce?!0:a.D?!1:$APP.cb($APP.yb,a):$APP.cb($APP.yb,a)};$APP.gH=function(a){return $APP.ee(a)||!1};$APP.hH=function(a){return"number"===typeof a};$APP.iH=function(){this.C=[]};$APP.jH=function(a){return $APP.A.g(a,$APP.ie)?$APP.ie:function(b,c){var d=a.g?a.g(b,c):a.call(null,b,c);return"number"===typeof d?d:$APP.r(d)?-1:$APP.r(a.g?a.g(c,b):a.call(null,c,b))?1:0}};$APP.kH=function(a){$APP.pi("\n");return $APP.fe.g(a,$APP.Ga),null};
$APP.lH=function(a,b){return(null!=a?$APP.Oc===a.Hc||(a.wd?0:$APP.cb(eH,a)):$APP.cb(eH,a))?$APP.Db(a,b):null!=a&&$APP.fH(a)&&$APP.he(a,b)?new $APP.Ig(b,$APP.fe.g(a,b),null):null};$APP.mH=function(a,b){return new $APP.I(null,2,5,$APP.N,[$APP.rs.g(a,b),$APP.ss.g(a,b)],null)};$APP.nH=function(a,b){this.f=a;this.value=b;this.D=2147516416;this.M=1};$APP.oH=function(a){return Math.floor(Math.random()*a)};
$APP.pH=function(){function a(){return $APP.oH(16).toString(16)}var b=(8|3&$APP.oH(16)).toString(16);return new $APP.nj([$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),"-",$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),"-4",$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),"-",$APP.t.h(b),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),"-",$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),
$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a())].join("").toLowerCase())};$APP.qH=function(a){return a instanceof Error?a.message:null};$APP.rH=function(a){return $APP.Gr.g(a,/\n|\r\n/)};sH=function(a,b){return $APP.r($APP.r(b)?$APP.Qh.g(b,""):b)?$APP.Em(a,$APP.Kk(b)):null};tH=function(a,b){return $APP.Ef(function(c){c=esm_import$path.resolve(a,[$APP.t.h(b),".",$APP.t.h(c)].join(""));return $APP.r(esm_import$fs.existsSync(c))?c:null},new $APP.I(null,2,5,$APP.N,["cljc","cljs"],null))};
$APP.wH=function(a){var b=$APP.Zj($APP.Zj($APP.t.h(a),"-","_"),".","/");return $APP.Ef(function(c){return tH(c,b)},$APP.uH.g($APP.u($APP.vH),new $APP.I(null,2,5,$APP.N,[".","src"],null)))};
DH=function(a,b){b=$APP.jf(b);var c=$APP.fe.g(b,$APP.Hr);a=$APP.jp($APP.hp(a),$APP.mu);if($APP.be(a)&&$APP.A.g($APP.Dj,$APP.y(a))){a=$APP.x(a);$APP.y(a);a=$APP.z(a);var d=$APP.y(a);a=$APP.z(a);a=$APP.Ef(function(k){var l=$APP.B.j(k,0,null);k=$APP.B.j(k,1,null);return $APP.be(l)&&$APP.A.g(xH,$APP.y(l))?new $APP.I(null,2,5,$APP.N,[$APP.cd(l),k],null):null},$APP.yH.j(2,1,a));var e=$APP.B.j(a,0,null),f=$APP.B.j(a,1,null);return $APP.r(e)?shadow_esm_import("./compiler.sci.js").then(function(){var k=$APP.zH.h($APP.u($APP.AH));
return $APP.ne.j(function(l,m){return l.then(function(){var h=$APP.x(m),q=$APP.y(h);h=$APP.z(h);h=$APP.jf(h);var p=$APP.fe.g(h,$APP.Cr),v=$APP.fe.g(h,$APP.Dr);return Promise.resolve(function(){var D=function(){var O=new $APP.G(null,$APP.oF,new $APP.G(null,new $APP.G(null,$APP.Mj,new $APP.G(null,q,null,1,null),2,null),null,1,null),2,null);return $APP.r(f)?$APP.R.g(O,new $APP.I(null,1,5,$APP.N,[$APP.BH],null)):O}();k.h?k.h(D):k.call(null,D);var J=function(){var O=$APP.S.h($APP.x($APP.R.g(new $APP.G(null,
CH,null,1,null),new $APP.G(null,$APP.S.h($APP.x($APP.R.g(new $APP.G(null,$APP.Mj,null,1,null),new $APP.G(null,q,null,1,null)))),null,1,null))));return k.h?k.h(O):k.call(null,O)}();D=$APP.Kh(J);J=$APP.Oh(J);J=$APP.ui.g($APP.od,J);return $APP.bi(D,J)}()).then(function(D){return $APP.Wi.g(c,function(J){J=$APP.bv(J,new $APP.I(null,2,5,$APP.N,[$APP.Qt,q],null),D);J=$APP.r(v)?$APP.bv(J,new $APP.I(null,3,5,$APP.N,[d,$APP.Kr,v],null),q):J;return $APP.r(p)?$APP.bv(J,new $APP.I(null,2,5,$APP.N,[d,$APP.Ir],
null),$APP.bi(p,$APP.Jr.h(q))):J})})})},Promise.resolve(null),e)}):null}return null};EH=function(a){var b=$APP.Rh.j;var c=$APP.Hr.h(a);c=$APP.r(c)?c:$APP.Vi.h(new $APP.n(null,1,[$APP.to,$APP.ry],null));return b.call($APP.Rh,a,$APP.Hr,c)};FH=function(a,b){var c=EH(b);return Promise.resolve(DH(a,c)).then(function(){return $APP.zu(a,c,null)})};
$APP.GH=function(a,b){return $APP.ne.j(function(c,d){a:{var e=esm_import$path.resolve(d).split(esm_import$path.sep);for(var f=esm_import$path.resolve(a).split(esm_import$path.sep);;){var k=$APP.Qd(e);if(k){e=k;break a}if(k=$APP.x(f))if(k=$APP.A.g($APP.y(e),$APP.y(f)))e=$APP.cd(e),f=$APP.cd(f);else{e=k;break a}else{e=k;break a}}}return e?$APP.ld(esm_import$path.relative(d,a)):c},a,b)};
$APP.MH=function(a){a=$APP.jf(a);var b=$APP.fe.g(a,$APP.HH),c=$APP.fe.g(a,IH),d=$APP.fe.g(a,$APP.JH),e=$APP.fe.g(a,$APP.KH),f=$APP.fe.j(a,$APP.LH,"");c=$APP.r(c)?c:esm_import$fs.readFileSync(b,"utf-8");a=EH(a);return FH(c,a).then(function(k){var l=$APP.jf(k);k=$APP.fe.g(l,$APP.yu);var m=$APP.fe.g(l,$APP.yq),h=function(){var v=$APP.uH.h(l);if($APP.r(v))return v;v=$APP.uH.h($APP.u($APP.vH));return $APP.r(v)?v:new $APP.I(null,2,5,$APP.N,[".","src"],null)}(),q=esm_import$path.resolve(f,function(){if($APP.r(d))var v=
d;else{v=$APP.GH(b,h);if($APP.r(m))var D=".jsx";else D=$APP.r(e)?[".",$APP.Zj(e,/^\./,"")].join(""):null,D=$APP.r(D)?D:".mjs";v=$APP.Zj(v,/.clj(s|c)$/,D)}return v}()),p=esm_import$path.dirname(q);$APP.r(esm_import$fs.existsSync(p))||esm_import$fs.mkdirSync(p,{recursive:!0});if(!$APP.r(esm_import$fs.existsSync(p)))throw Error("File not found, make sure output-dir is a valid path: ",new $APP.n(null,2,[$APP.LH,f,$APP.JH,q],null));esm_import$fs.writeFileSync(q,k,"utf-8");return $APP.Rh.j(l,$APP.JH,q)})};
NH=function(a){return $APP.Au.l(a,$APP.F([$APP.Bu,!0]))};OH=function(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $APP.Xc(f,0,null)}return c.call(this,e)}function c(d){d=$APP.av.g(NH,d);d=$APP.Gf.g(a,d);return d instanceof Promise?d.then($APP.vv):$APP.vv(d)}b.m=0;b.o=function(d){d=$APP.x(d);return c(d)};b.l=c;return b}()};$APP.iH.prototype.add=function(a){return this.C.push(a)};
$APP.iH.prototype.size=function(){return this.C.length};$APP.iH.prototype.clear=function(){return this.C=[]};$APP.iH.prototype.fd=function(){return 0===this.C.length};$APP.PH=function PH(a){switch(arguments.length){case 1:return PH.h(arguments[0]);case 2:return PH.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};$APP.PH.h=function(a){return $APP.PH.g($APP.ie,a)};
$APP.PH.g=function(a,b){if($APP.x(b)){var c=$APP.Ze.h?$APP.Ze.h(b):$APP.Ze.call(null,b);dH(c,$APP.jH(a));return $APP.Md($APP.x(c),$APP.Nd(b))}return $APP.bd};$APP.PH.m=2;$APP.QH=function QH(a){switch(arguments.length){case 2:return QH.g(arguments[0],arguments[1]);case 3:return QH.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};$APP.QH.g=function(a,b){return $APP.QH.j(a,$APP.ie,b)};
$APP.QH.j=function(a,b,c){return $APP.PH.g(function(d,e){d=a.h?a.h(d):a.call(null,d);e=a.h?a.h(e):a.call(null,e);var f=$APP.jH(b);return f.g?f.g(d,e):f.call(null,d,e)},c)};$APP.QH.m=3;$APP.RH=function RH(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return RH.l(0<c.length?new $APP.Xc(c.slice(0),0,null):null)};$APP.RH.l=function(a){$APP.Gi(a,$APP.Ra());return $APP.r($APP.Sa)?$APP.kH($APP.Ra()):null};$APP.RH.m=0;$APP.RH.o=function(a){return this.l($APP.x(a))};
$APP.SH=function SH(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return SH.l(0<c.length?new $APP.Xc(c.slice(0),0,null):null)};$APP.SH.l=function(a){$APP.Gi(a,$APP.Rh.j($APP.Ra(),$APP.Ia,!1));return $APP.r($APP.Sa)?$APP.kH($APP.Ra()):null};$APP.SH.m=0;$APP.SH.o=function(a){return this.l($APP.x(a))};
$APP.yH=function yH(a){switch(arguments.length){case 1:return yH.h(arguments[0]);case 2:return yH.g(arguments[0],arguments[1]);case 3:return yH.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};
$APP.yH.h=function(a){return function(b){var c=new $APP.iH;return function(){function d(l,m){c.add(m);return a===c.size()?(m=$APP.lg(c.C),c.clear(),b.g?b.g(l,m):b.call(null,l,m)):l}function e(l){if(!$APP.r(c.fd())){var m=$APP.lg(c.C);c.clear();l=$APP.pd(b.g?b.g(l,m):b.call(null,l,m))}return b.h?b.h(l):b.call(null,l)}function f(){return b.v?b.v():b.call(null)}var k=null;k=function(l,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m)}throw Error("Invalid arity: "+
arguments.length);};k.v=f;k.h=e;k.g=d;return k}()}};$APP.yH.g=function(a,b){return $APP.yH.j(a,a,b)};$APP.yH.j=function(a,b,c){return new $APP.Ne(null,function(){var d=$APP.x(c);return d?$APP.He($APP.Mf.g(a,d),$APP.yH.j(a,b,$APP.Nf.g(b,d))):null},null,null)};$APP.yH.m=3;$APP.nH.prototype.nb=function(){$APP.r(this.f)&&(this.value=this.f.v?this.f.v():this.f.call(null),this.f=null);return this.value};$APP.nH.prototype.$c=function(){return $APP.Za(this.f)};
$APP.nH.prototype.R=function(a,b,c){$APP.ic(b,"#object[cljs.core.Delay ");$APP.ti(new $APP.n(null,2,[$APP.HD,null==this.f?$APP.Lw:$APP.pB,$APP.tv,this.value],null),b,c);return $APP.ic(b,"]")};$APP.TH=function TH(a){switch(arguments.length){case 1:return TH.h(arguments[0]);case 2:return TH.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};
$APP.TH.h=function(a){return sH(new $APP.n(null,3,[$APP.Cm,$APP.u($APP.cG),$APP.Dm,$APP.u($APP.bG),$APP.il,null],null),a)};$APP.TH.g=function(a,b){return sH($APP.Tm.j($APP.Qk.l($APP.F([new $APP.n(null,1,[$APP.Dm,$APP.u($APP.bG)],null),a])),$APP.Cm,function(c){return $APP.Qk.l($APP.F([$APP.u($APP.cG),c]))}),b)};$APP.TH.m=2;$APP.UH=new $APP.H(null,"port","port",1534937262);$APP.BH=new $APP.H(null,"reload","reload",863702807);$APP.VH=new $APP.H(null,"opts","opts",155075701);
$APP.LH=new $APP.H(null,"output-dir","output-dir",-290956991);xH=new $APP.H(null,"require-macros","require-macros",707947416);$APP.WH=new $APP.H(null,"message","message",-406056002);$APP.HH=new $APP.H(null,"in-file","in-file",-1682176692);$APP.XH=new $APP.H(null,"id","id",-1388402092);CH=new $APP.w("cljs.core","ns-publics","cljs.core/ns-publics",488240955,null);$APP.uH=new $APP.H(null,"paths","paths",-1807389588);$APP.YH=new $APP.H(null,"eval","eval",-1103567905);
$APP.zH=new $APP.H(null,"eval-form","eval-form",-1934118476);$APP.JH=new $APP.H(null,"out-file","out-file",-1187066405);IH=new $APP.H(null,"in-str","in-str",-1014658121);$APP.KH=new $APP.H(null,"extension","extension",1453374065);$APP.vH=new $APP.nH(function(){if($APP.r(esm_import$fs.existsSync("squint.edn"))){var a=esm_import$fs.readFileSync("squint.edn","utf-8");a=$APP.TH.h(a)}else a=null;return a},null);var ZH;$APP.AH=$APP.Vi.h(null);ZH=OH(FH);export const compileFile=OH($APP.MH);export const compileString=ZH;