import { $APP, shadow$provide, $jscomp } from "./compiler.js";
import "./node.js";
import "./compiler.node.js";
const shadow_esm_import = function(x) { return import(x) };
import*as esm_import$fs from"fs";import*as esm_import$net from"net";import*as esm_import$readline from"readline";import*as esm_import$squint_cljs$core from"squint-cljs/core.js";import*as esm_import$node_util from"node:util";import*as esm_import$url from"url";import*as esm_import$path from"path";
var Pha=function(a,b){return $APP.Vd(a)&&$APP.Vd(b)?$APP.Qk.l($APP.F([a,b])):$APP.Rd(a)&&($APP.Ud(a)||$APP.Td(a))&&$APP.Rd(b)&&($APP.Ud(b)||$APP.Td(b))?$APP.Rg.g(a,b):b},U9=function(a,b){return $APP.ne.j(function(c,d){return $APP.ov.l(Pha,$APP.F([c,d]))},a,b)},V9=function(a){throw $APP.cl.g(["Unexpected format: ",$APP.t.h(a)].join(""),new $APP.n(null,1,[Qha,a],null));},W9=function(a){var b=JSON.parse(a);return $APP.ae(b)?b:V9(a)},Rha=function(a){var b=JSON.parse(a);return $APP.gH(b)?b:V9(a)},Sha=
function(a){var b=JSON.parse(a);return $APP.hH(b)?b:V9(a)},X9=function(a){var b=JSON.parse(a);return"number"===typeof b?b:V9(a)},Y9=function(a){return"string"===typeof a?$APP.B.j(a,0,null):null},Z9=function(a){return $APP.A.g(":",Y9(a))?$APP.vi.h($APP.ji.g(a,1)):$APP.vi.h(a)},Tha=function(a){return $APP.Rd(a)?$APP.y(a):a},$9=function(a){if("string"===typeof a)try{var b=Y9(a);if($APP.A.g("true",a)||$APP.A.g("false",a))var c=W9(a);else{if($APP.A.g("nil",a))var d=null;else{if($APP.Za(isNaN(a)))var e=
X9(a);else{var f=$APP.A.g(":",b);var k=f?$APP.hi(/:[a-zA-Z][a-zA-Z0-9_\/\.-]*/,a):f;e=$APP.r(k)?Z9(a):a}d=e}c=d}return c}catch(l){return a}else return a},a$=function(a,b,c,d){throw $APP.cl.j(["Coerce failure: cannot transform ",$APP.r(b)?"(implicit) true":["input ",$APP.Ri.l($APP.F([a]))].join(""),c instanceof $APP.H?" to ":" with ",$APP.t.h(c instanceof $APP.H?$APP.ai(c):c)].join(""),new $APP.n(null,2,[Uha,a,Vha,c],null),d);},Wha=function(a,b,c){var d=function(){switch(b instanceof $APP.H?b.da:null){case "boolean":case "bool":return W9;
case "int":case "long":return Rha;case "double":return Sha;case "number":return X9;case "symbol":return $APP.Hi;case "keyword":return Z9;case "string":return $APP.se;case "edn":return $APP.TH;case "auto":return $9;default:return b}}();if("string"===typeof a)try{var e=d.h?d.h(a):d.call(null,a)}catch(f){e=a$(a,c,b,f)}else e=a;d=e;return $APP.r($APP.r(c)?!0!==d:c)?a$(a,c,b,null):d},b$=function(a,b,c){a=$APP.fe.g(a,b);c=$APP.r(a)?a:$APP.Rd(c)?$APP.Hd(c):null;return $APP.r(c)?$APP.Rd(c)?$APP.Yq.g($APP.Ee,
c):c:null},c$=function(a,b,c,d){return $APP.Qh.g(b,c)?(c=$APP.lH(a,b),$APP.r(c)?($APP.B.j(c,0,null),c=$APP.B.j(c,1,null),$APP.Rh.j(a,b,$APP.r(d)?d.g?d.g(c,!0):d.call(null,c,!0):!0)):$APP.Rh.j(a,b,$APP.r(d)?d.g?d.g(null,!0):d.call(null,null,!0):!0)):a},Xha=function(a,b,c,d,e,f){d=$APP.r($APP.r(d)?!$APP.Rd(d):d)?Wha(e,d,f):$9(e);return $APP.r(c)?$APP.Tm.A(a,b,c,d):$APP.Rh.j(a,b,d)},Yha=function(a){return $APP.ne.j(function(b,c){var d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);var e=$APP.jf(c),f=$APP.fe.g(e,
d$),k=$APP.fe.g(e,e$);c=$APP.fe.g(e,$APP.Dm);var l=$APP.fe.g(e,$APP.jF);e=$APP.fe.g(e,f$);b=$APP.r(f)?$APP.Tm.J(b,d$,$APP.Rh,d,f):b;b=$APP.r(k)?$APP.Tm.j(b,e$,function(m){if($APP.he(m,k))throw $APP.cl.g(["Conflicting alias ",$APP.t.h(k)," between ",$APP.t.h($APP.fe.g(m,k))," and ",$APP.t.h(d)].join(""),new $APP.n(null,1,[e$,k],null));return $APP.Rh.j(m,k,d)}):b;b=$APP.r(l)?$APP.Tm.j(b,$APP.jF,$APP.Yq.g(function(m){return $APP.Ee.g(m,d)},$APP.Vh)):b;b=$APP.r(e)?$APP.Tm.J(b,f$,$APP.Rh,d,e):b;return $APP.r(c)?
$APP.Tm.J(b,g$,$APP.Rh,d,c):b},$APP.hf,a)},k$=function(a,b){b=$APP.jf(b);var c=$APP.fe.g(b,h$);b=$APP.mH(function(d){var e=$APP.r(c)?null:$APP.qa(d,":");return!($APP.r(e)?e:$APP.qa(d,"-"))},a);a=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);return new $APP.n(null,2,[i$,a,j$,b],null)},m$=function(a,b){if($APP.r(b))if($APP.x(a)){var c=$APP.xd(a),d=$APP.$e(c,b);c=c<d?c:d;a=new $APP.I(null,2,5,$APP.N,[$APP.R.g($APP.$u.g(b,a),$APP.Nf.g(c,a)),$APP.Nf.g(c,b)],null)}else a=new $APP.I(null,2,5,$APP.N,[a,b],null);
else a=new $APP.I(null,2,5,$APP.N,[a,b],null);b=a;a=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);return new $APP.n(null,2,[j$,a,l$,b],null)},u$=function(a,b,c,d,e){var f=Y9(a),k="string"===typeof a?$APP.B.j(a,1,null):null,l;if(l=$APP.A.g(f,"-")){try{var m=X9($APP.t.h(k))}catch(h){m=null}l=$APP.Za(m)}b=$APP.r(b)?b:l?n$:null;f=$APP.A.g(":",f);c=$APP.Qh.g(n$,b)&&f&&($APP.A.g(o$,d)||$APP.Za(c)||$APP.A.g(e,c));d=$APP.r(b)?b:c?p$:null;a=l?$APP.r(k)?$APP.Qh.g("-",k)&&2<$APP.xd(a):k:null;return new $APP.n(null,
5,[$APP.ix,d,q$,l,r$,a,s$,c,t$,f],null)},bia=function(a,b){function c(vb){vb=$APP.Qk.l($APP.F([new $APP.n(null,2,[v$,d,$APP.Xk,w$],null),vb]));return O.h?O.h(vb):O.call(null,vb)}var d=v$.h(b),e=$APP.r(d)?U9(b,$APP.F([Yha(d)])):b,f=d$.h(e),k=function(){var vb=e$.h(e);return $APP.r(vb)?vb:$APP.Kr.h(e)}(),l=Zha.h(e),m=$APP.jF.h(e),h=g$.h(e),q=h$.h(e),p=function(){var vb=x$.h(e);return $APP.r(vb)?vb:$ha.h(e)}(),v=$APP.Zh($APP.R.l($APP.Kh($APP.Vd(d)?d:$APP.Rg.g($APP.hf,d)),$APP.Oh(k),$APP.F([$APP.Kh(f)]))),
D=$APP.A.g(!0,p)?v:null==p?null:$APP.Zh(p),J=f$.h(e),O=function(){var vb=aia.h(e);return $APP.r(vb)?vb:function(Zb){Zb=$APP.jf(Zb);var Jc=$APP.fe.g(Zb,y$);throw $APP.cl.g(Jc,Zb);}}(),P=k$(a,null),W=$APP.jf(P),ca=$APP.fe.g(W,i$),ha=$APP.fe.g(W,j$),oa=function(){var vb=l$.h(e);vb=$APP.r(vb)?vb:z$.h(e);return $APP.r(vb)?m$(ca,vb):new $APP.n(null,2,[l$,null,j$,ha],null)}(),pa=$APP.jf(oa),fa=$APP.fe.g(pa,j$),E=$APP.fe.g(pa,l$),C=$APP.Qh.g(fa,ha)?new $APP.I(null,2,5,$APP.N,[null,$APP.R.g(fa,ha)],null):
new $APP.I(null,2,5,$APP.N,[ca,ha],null),ea=$APP.B.j(C,0,null),K=$APP.B.j(C,1,null),M=function(){for(var vb=$APP.hf,Zb=null,Jc=null,Pe=$APP.r(q)?n$:null,hd=$APP.x(K),Kg=E;;){if($APP.Za(hd))return new $APP.I(null,3,5,$APP.N,[vb,Zb,Jc],null);var og=$APP.y(hd),Uc=og instanceof $APP.H;if(Uc){Zb=c$(vb,Zb,Jc,null);var oe=og;hd=$APP.z(hd);vb=Zb;Zb=oe}else{var Dl=!0===og,Uf=$APP.t.h(og);oe=b$(l,Zb,$APP.fe.g(f,Zb));var yi=$APP.fe.g(f,Zb),El=u$(Uf,Pe,Zb,yi,Jc),Lh=$APP.jf(El),Fl=$APP.fe.g(Lh,q$),Mh=$APP.fe.g(Lh,
r$),Gl=$APP.fe.g(Lh,s$),Vf=$APP.fe.g(Lh,$APP.ix),qk=$APP.fe.g(Lh,t$);if($APP.r(function(){var Re=Fl;return $APP.r(Re)?Re:Gl}())){var Yc=$APP.qa(Uf,"--"),rk=Yc&&$APP.A.g("--",Uf);if(rk){var Hl=$APP.z(hd);return new $APP.I(null,3,5,$APP.N,[function(){var Re=vb;return Hl?$APP.jo.A(Re,$APP.bv,new $APP.I(null,2,5,$APP.N,[w$,j$],null),$APP.lg(Hl)):Re}(),Zb,Jc],null)}var sk=Yc?$APP.ji.g(Uf,2):$APP.Zj(Uf,/^(:|-|)/,""),Af=Yc?$APP.Gr.g(sk,/=/):new $APP.I(null,1,5,$APP.N,[sk],null),Sd=$APP.B.j(Af,0,null),Ce=
$APP.B.j(Af,1,null),Vb=$APP.vi.h(Sd),Fc=$APP.fe.j(k,Vb,Vb);if($APP.r(Ce))Jc=c$(vb,Zb,Jc,oe),Zb=Fc,Pe=Vf,hd=$APP.He(Ce,$APP.cd(hd)),vb=Jc,Jc=null;else{var Ab=$APP.z(hd),Qe=$APP.y(Ab),uw=u$(Qe,Vf,Zb,yi,Jc);if($APP.r(function(){var Re=q$.h(uw);return $APP.r(Re)?Re:$APP.Qd(Ab)}()))if($APP.r(Mh)){var vw=$APP.ai(Fc);Jc=$APP.Zp.l(function(){return function(Re){return new $APP.I(null,2,5,$APP.N,[["-",$APP.t.h(Re)].join(""),!0],null)}}(vb,Zb,Jc,Pe,hd,Kg,vw,Ab,Qe,uw,sk,Af,Sd,Ce,Vb,Fc,Yc,rk,Dl,Uf,oe,yi,El,Lh,
Fl,Mh,Gl,Vf,qk,og,Uc,d,e,f,k,l,m,h,q,p,v,D,J,O,c,P,W,ca,ha,oa,pa,fa,E,C,ea,K),$APP.F([vw]));hd=$APP.R.g(Jc,Ab);Pe=Vf;Jc=Zb=null}else hd=$APP.he(v,Fc)?null:$APP.bH($APP.t.h(Fc),":no-"),Pe=$APP.r(hd)?$APP.vi.h($APP.Zj($APP.t.h(Fc),":no-","")):Fc,hd=$APP.He($APP.Za(hd),Ab),Zb=c$(vb,Zb,Jc,oe),oe=Pe,Pe=Vf,vb=Zb,Zb=oe;else Zb=c$(vb,Zb,Jc,oe),oe=Fc,Pe=Vf,hd=Ab,vb=Zb,Zb=oe}}else if(rk=$APP.A.g(o$,yi)&&$APP.Qh.g(Uf,"true")&&$APP.Qh.g(Uf,"false")||$APP.A.g(Jc,Zb)&&$APP.Za(oe))if(Kg=$APP.r(hd)?$APP.r(Kg)?m$(hd,
Kg):new $APP.n(null,1,[j$,hd],null):new $APP.n(null,1,[j$,hd],null),Pe=$APP.jf(Kg),Kg=$APP.fe.g(Pe,j$),Pe=$APP.fe.g(Pe,l$),$APP.Qh.g(hd,Kg))oe=Pe,Pe=Vf,hd=Kg,Kg=oe;else return new $APP.I(null,3,5,$APP.N,[$APP.jo.A(vb,$APP.bv,new $APP.I(null,2,5,$APP.N,[w$,j$],null),$APP.lg(hd)),Zb,Jc],null);else{try{var Yd=Xha(vb,Zb,oe,Tha(yi),Uf,Dl)}catch(Re){c(new $APP.n(null,4,[A$,d$,y$,$APP.qH(Re),B$,Zb,C$,Uf],null)),Yd=vb}Jc=$APP.r(function(){var Re=$APP.A.g(p$,Vf);return Re?qk:Re}())?null:Zb;oe=$APP.r(function(){var Re=
$APP.A.g(p$,Vf);return Re?qk:Re}())?null:Zb;Pe=Vf;hd=$APP.z(hd);vb=Yd;Zb=Jc;Jc=oe}}}}(),da=$APP.B.j(M,0,null),ia=$APP.B.j(M,1,null),ja=$APP.B.j(M,2,null),sa=b$(l,ia,$APP.fe.g(f,ia)),ta=function(){var vb=c$(da,ia,ja,sa);return $APP.x(ea)?$APP.jo.A(vb,$APP.Nk,new $APP.I(null,2,5,$APP.N,[w$,j$],null),function(Zb){return $APP.Rg.g($APP.lg(ea),Zb)}):vb}(),xa=$APP.r(h)?$APP.Md($APP.Qk.l($APP.F([h,ta])),$APP.Nd(ta)):ta;if($APP.r(D)){a=$APP.x($APP.Kh(xa));b=null;for(var ya=0,Ca=0;;)if(Ca<ya){var Ha=b.ba(null,
Ca);$APP.he(D,Ha)||c(new $APP.n(null,4,[A$,x$,y$,["Unknown option: ",$APP.t.h(Ha)].join(""),x$,D,B$,Ha],null));Ca+=1}else if(a=$APP.x(a))b=a,$APP.Zd(b)?(a=$APP.uc(b),Ca=$APP.vc(b),b=a,ya=$APP.xd(a),a=Ca):(a=$APP.y(b),$APP.he(D,a)||c(new $APP.n(null,4,[A$,x$,y$,["Unknown option: ",$APP.t.h(a)].join(""),x$,D,B$,a],null)),a=$APP.z(b),b=null,ya=0),Ca=0;else break}if($APP.r(m))for(a=$APP.x(m),b=null,Ca=ya=0;;)if(Ca<ya)Ha=b.ba(null,Ca),$APP.r($APP.lH(xa,Ha))||c(new $APP.n(null,4,[A$,$APP.jF,y$,["Required option: ",
$APP.t.h(Ha)].join(""),$APP.jF,m,B$,Ha],null)),Ca+=1;else if(a=$APP.x(a))b=a,$APP.Zd(b)?(a=$APP.uc(b),Ca=$APP.vc(b),b=a,ya=$APP.xd(a),a=Ca):(a=$APP.y(b),$APP.r($APP.lH(xa,a))||c(new $APP.n(null,4,[A$,$APP.jF,y$,["Required option: ",$APP.t.h(a)].join(""),$APP.jF,m,B$,a],null)),a=$APP.z(b),b=null,ya=0),Ca=0;else break;if($APP.r(J))for(var Da=$APP.x(J),Aa=null,Oa=0,Ua=0;;)if(Ua<Oa){var db=Aa.ba(null,Ua),ub=$APP.B.j(db,0,null),Bb=$APP.B.j(db,1,null),Yb=function(){var vb=(vb=$APP.Vd(Bb))?D$.h(Bb):vb;return $APP.r(vb)?
vb:Bb}(),rc=$APP.lH(xa,ub);if($APP.r(rc)){var $c=rc,Tb=$APP.B.j($c,0,null),of=$APP.B.j($c,1,null);if(!$APP.r(Yb.h?Yb.h(of):Yb.call(null,of))){var mk=function(){var vb=E$.h(Bb);return $APP.r(vb)?vb:function(){return function(Zb){var Jc=$APP.jf(Zb);Zb=$APP.fe.g(Jc,B$);Jc=$APP.fe.g(Jc,C$);return["Invalid value for option ",$APP.t.h(Zb),": ",$APP.t.h(Jc)].join("")}}(Da,Aa,Oa,Ua,vb,$c,Tb,of,rc,Yb,db,ub,Bb,d,e,f,k,l,m,h,q,p,v,D,J,O,c,P,W,ca,ha,oa,pa,fa,E,C,ea,K,M,da,ia,ja,sa,ta,xa)}();c(new $APP.n(null,
5,[A$,f$,y$,function(){var vb=new $APP.n(null,2,[B$,ub,C$,of],null);return mk.h?mk.h(vb):mk.call(null,vb)}(),f$,J,B$,ub,C$,of],null))}}Ua+=1}else{var Al=$APP.x(Da);if(Al){var wi=Al;if($APP.Zd(wi))ya=$APP.uc(wi),a=$APP.vc(wi),b=ya,ya=$APP.xd(ya),Da=a,Aa=b,Oa=ya;else{var nk=$APP.y(wi),ok=$APP.B.j(nk,0,null),tj=$APP.B.j(nk,1,null),pk=function(){var vb=(vb=$APP.Vd(tj))?D$.h(tj):vb;return $APP.r(vb)?vb:tj}(),Bl=$APP.lH(xa,ok);if($APP.r(Bl)){var Ic=Bl,uj=$APP.B.j(Ic,0,null),xi=$APP.B.j(Ic,1,null);if(!$APP.r(pk.h?
pk.h(xi):pk.call(null,xi))){var Cl=function(){var vb=E$.h(tj);return $APP.r(vb)?vb:function(){return function(Zb){var Jc=$APP.jf(Zb);Zb=$APP.fe.g(Jc,B$);Jc=$APP.fe.g(Jc,C$);return["Invalid value for option ",$APP.t.h(Zb),": ",$APP.t.h(Jc)].join("")}}(Da,Aa,Oa,Ua,vb,Ic,uj,xi,Bl,pk,nk,ok,tj,wi,Al,d,e,f,k,l,m,h,q,p,v,D,J,O,c,P,W,ca,ha,oa,pa,fa,E,C,ea,K,M,da,ia,ja,sa,ta,xa)}();c(new $APP.n(null,5,[A$,f$,y$,function(){var vb=new $APP.n(null,2,[B$,ok,C$,xi],null);return Cl.h?Cl.h(vb):Cl.call(null,vb)}(),
f$,J,B$,ok,C$,xi],null))}}Da=$APP.z(wi);Aa=null;Oa=0}Ua=0}else break}return xa},cia=function(a,b){a=bia(a,b);b=w$.h($APP.Nd(a));return $APP.Rh.j(b,$APP.VH,$APP.Rk.g(a,w$))},dia=function(a,b){var c=$APP.Of($APP.xd(a),b);b=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);return $APP.A.g(b,a)?c:null},J$=function(a,b){$APP.Jf(F$,!1);a.setPrompt([$APP.t.h($APP.u(G$)),"\x3d\x3e "].join(""));a.prompt();return $APP.gk($APP.u(H$))?null:I$.g?I$.g(b,a):I$.call(null,b,a)},K$=function(a){var b=$APP.Bk(a);a=$APP.Ck(a);
var c=$APP.rH($APP.u(H$));b=$APP.Nf.g(b-1,c);c=$APP.x(b);b=$APP.y(c);c=$APP.z(c);a=$APP.r(b)?$APP.ji.g(b,a):null;$APP.Jf(H$,$APP.Jp.g("\n",$APP.He(a,c)))},eia=function(a,b,c){var d=function(){var k=$APP.nr;$APP.nr=$APP.u(G$);try{a:{var l=$APP.La;$APP.La=!0;try{var m=$APP.Ri.l($APP.F([a]));break a}finally{$APP.La=l}m=void 0}return $APP.zu(m,new $APP.n(null,3,[$APP.Kp,$APP.Pp,$APP.pu,!0,$APP.Rt,!0],null),$APP.u(L$))}finally{$APP.nr=k}}(),e=$APP.jf(d),f=$APP.fe.g(e,$APP.yu);d=$APP.fe.g(e,$APP.T);$APP.Jf(L$,
e);e=$APP.Zj("(async function () {\n%s\n}) ()","%s",f);$APP.Jf(G$,d);return Promise.resolve(eval(e)).then(function(k){$APP.r(c)?c.write(esm_import$node_util.inspect(k),"\n"):console.log(k);return I$.g?I$.g(c,b):I$.call(null,c,b)}).catch(function(k){esm_import$squint_cljs$core.println(k);return J$(b,c)})},I$=function(a,b){if($APP.r(function(){var e=$APP.u(F$);return $APP.r(e)?e:!$APP.gk($APP.u(H$))}())){$APP.Jf(F$,!0);var c=$APP.hp($APP.u(H$)),d=function(){try{return $APP.jp(c,$APP.mu)}catch(f){var e=
f;if(-1!=$APP.qH(e).indexOf("EOF while reading"))return M$;K$(c);$APP.RH.l($APP.F([$APP.t.h(e)]));return N$}}();if($APP.A.g(N$,d))return J$(b,a);if($APP.A.g(M$,d))return $APP.Jf(F$,!1);K$(c);return $APP.A.g($APP.ip,d)?J$(b,a):eia(d,b,a)}return null},O$=function(a,b){a.on("line",function(c){$APP.Wi.A(H$,$APP.t,c,"\n");return I$(b,a)})},fia=function(a){var b=esm_import$readline.createInterface({input:a,output:a});O$(b,a);a.setNoDelay(!0);return a.on("close",function(){return $APP.SH.l($APP.F(["Client closed connection."]))})},
P$=function(a,b,c){return $APP.r(c)?esm_import$path.resolve(c,$APP.GH(a,b)):a},Q$=function(a,b,c){var d=$APP.LH.h(a),e=$APP.uH.h(a);b=P$(b,e,d);c=$APP.wH(c);d=null==c?null:P$(c,e,d);d=null==d?null:null==d?null:esm_import$path.relative(esm_import$path.dirname($APP.t.h(b)),d);return $APP.r(d)?(a=$APP.KH.g(a,".mjs"),a=$APP.qa(a,".")?a:[".",$APP.t.h(a)].join(""),e=esm_import$path.extname(d),["./",$APP.Zj(d,$APP.ki([$APP.t.h(e),"$"].join("")),a)].join("")):null},R$=function(a,b,c,d){if($APP.r(a)){var e=
esm_import$path.resolve(c,$APP.GH(b,d));c=esm_import$path.dirname(e);if($APP.r($APP.Ef(function(f){return f instanceof $APP.H?$APP.ii($APP.ki(["\\.",$APP.ai(f),"$"].join("")),e):"string"===typeof f?$APP.ii($APP.ki(f),e):null},a)))return $APP.r(esm_import$fs.existsSync(c))||($APP.SH.l($APP.F(["[squint] Creating directory:",c])),esm_import$fs.mkdirSync(c,{recursive:!0})),$APP.SH.l($APP.F(["[squint] zCopying resource",b,"to",c])),esm_import$fs.copyFileSync(b,e)}return null},V$=function(a,b){var c=$APP.u($APP.vH),
d=$APP.Qk.l($APP.F([c,a])),e=$APP.uH.h(d),f=S$.h(d),k=$APP.LH.g(d,".");a=$APP.Qd(b)?$APP.lg($APP.Zp.l(T$,$APP.F([e]))):b;b=$APP.LH.h(d);if($APP.r(b)&&"string"!==typeof b)throw Error("output-dir must be a string");return $APP.r(U$.h(d))?($APP.SH.l($APP.F(["Usage: squint compile \x3cfiles\x3e \x3copts\x3e"])),$APP.SH(),$APP.SH.l($APP.F(["Options:\n\n--elide-imports: do not include imports\n--elide-exports: do not include exports\n--extension: default extension for JS files\n--paths: source paths to search for cljs/cljc files\n--output-dir: output directory for JS files"]))):
$APP.ne.j(function(l,m){return Promise.resolve(l).then(function(){return $APP.he(new $APP.Uh(null,new $APP.n(null,2,[".cljc",null,".cljs",null],null),null),esm_import$path.extname(m))?($APP.SH.l($APP.F(["[squint] Compiling CLJS file:",m])),$APP.MH($APP.Rh.l(d,$APP.HH,m,$APP.F([$APP.vr,function(h){return Q$(d,m,h)}])))):R$(f,m,k,e)}).then(function(h){h=$APP.jf(h);h=$APP.fe.g(h,$APP.JH);$APP.r(h)&&$APP.SH.l($APP.F(["[squint] Wrote file:",h]));return h})},null,a)},gia=function(a){var b=$APP.u($APP.vH),
c=$APP.Qk.l($APP.F([b,a])),d=$APP.uH.h(c),e=$APP.LH.g(c,"."),f=S$.h(c);return shadow_esm_import("chokidar").catch(function(k){return console.error(k)}).then(function(k){k=k.watch;$APP.SH.l($APP.F(["[squint] Watching paths:",$APP.Jp.g(", ",d)]));for(var l=$APP.x(d),m=null,h=0,q=0;;)if(q<h){var p=m.ba(null,q);(k.h?k.h(p):k.call(null,p)).on("all",function(J,O,P,W,ca,ha,oa,pa,fa,E,C){return function(ea,K){return $APP.r(esm_import$fs.existsSync(K))?$APP.r(esm_import$fs.lstatSync(K).isDirectory())?null:
$APP.he(new $APP.Uh(null,new $APP.n(null,2,["add",null,"change",null],null),null),ea)&&$APP.he(new $APP.Uh(null,new $APP.n(null,2,[".cljc",null,".cljs",null],null),null),esm_import$path.extname(K))?V$(pa,new $APP.I(null,1,5,$APP.N,[K],null)).catch(function(){return function(M){return console.error(M)}}(J,O,P,W,ca,ha,oa,pa,fa,E,C)):R$(C,K,E,fa):null}}(l,m,h,q,p,k,b,c,d,e,f));q+=1}else{var v=$APP.x(l);if(v){var D=v;$APP.Zd(D)?(l=$APP.uc(D),h=$APP.vc(D),m=l,D=$APP.xd(l),l=h,h=D):(p=$APP.y(D),(k.h?k.h(p):
k.call(null,p)).on("all",function(J,O,P,W,ca,ha,oa,pa,fa,E,C,ea,K){return function(M,da){return $APP.r(esm_import$fs.existsSync(da))?$APP.r(esm_import$fs.lstatSync(da).isDirectory())?null:$APP.he(new $APP.Uh(null,new $APP.n(null,2,["add",null,"change",null],null),null),M)&&$APP.he(new $APP.Uh(null,new $APP.n(null,2,[".cljc",null,".cljs",null],null),null),esm_import$path.extname(da))?V$(E,new $APP.I(null,1,5,$APP.N,[da],null)).catch(function(){return function(ia){return console.error(ia)}}(J,O,P,W,
ca,ha,oa,pa,fa,E,C,ea,K)):R$(K,da,ea,C):null}}(l,m,h,q,p,D,v,k,b,c,d,e,f)),l=$APP.z(D),m=null,h=0);q=0}else return null}})},s$=new $APP.H(null,"kwd-opt","kwd-opt",1313309243),n$=new $APP.H(null,"hyphens","hyphens",2113533609),v$=new $APP.H(null,"spec","spec",347520401),d$=new $APP.H(null,"coerce","coerce",1917884504),x$=new $APP.H(null,"restrict","restrict",-1071101511),p$=new $APP.H(null,"keywords","keywords",1526959054),N$=new $APP.H("squint.repl.node","continue","squint.repl.node/continue",1558138730),
y$=new $APP.H(null,"msg","msg",-1386103444),hia=new $APP.H(null,"show","show",-576705889),o$=new $APP.H(null,"boolean","boolean",-1919418404),Uha=new $APP.H(null,"input","input",556931961),W$=new $APP.H(null,"rest-cmds","rest-cmds",-423198324),w$=new $APP.H("org.babashka","cli","org.babashka/cli",1162430315),l$=new $APP.H(null,"args-\x3eopts","args-\x3eopts",964391046),e$=new $APP.H(null,"alias","alias",-2039751630),Zha=new $APP.H(null,"collect","collect",-284321549),f$=new $APP.H(null,"validate",
"validate",-201300827),r$=new $APP.H(null,"composite-opt","composite-opt",-2021292928),iia=new $APP.H(null,"run","run",-1821166653),q$=new $APP.H(null,"hyphen-opt","hyphen-opt",1836909464),U$=new $APP.H(null,"help","help",-439233446),A$=new $APP.H(null,"cause","cause",231901252),t$=new $APP.H(null,"fst-colon","fst-colon",1618567071),Vha=new $APP.H(null,"coerce-fn","coerce-fn",-821146515),j$=new $APP.H(null,"args","args",1315556576),h$=new $APP.H(null,"no-keyword-opts","no-keyword-opts",761286018),
C$=new $APP.H(null,"value","value",305978217),S$=new $APP.H(null,"copy-resources","copy-resources",-1367155536),D$=new $APP.H(null,"pred","pred",1927423397),$ha=new $APP.H(null,"closed","closed",-919675359),M$=new $APP.H("squint.repl.node","eof-while-reading","squint.repl.node/eof-while-reading",198833493),aia=new $APP.H(null,"error-fn","error-fn",-171437615),B$=new $APP.H(null,"option","option",65132272),g$=new $APP.H(null,"exec-args","exec-args",-1860766354),E$=new $APP.H(null,"ex-msg","ex-msg",
-1111774387),Qha=new $APP.H(null,"s","s",1705939918),z$=new $APP.H(null,"cmds-opts","cmds-opts",-390130362),jia=new $APP.H(null,"h","h",1109658740),i$=new $APP.H(null,"cmds","cmds",-1841503952);var H$=$APP.Vi.h(""),F$=$APP.Vi.h(!1),G$=$APP.Vi.h($APP.nr),X$,Y$=process.stdout.isTTY;X$=$APP.r(Y$)?process.stdin.setRawMode:Y$;var L$=$APP.Vi.h(null),Z$=function Z$(a){switch(arguments.length){case 0:return Z$.v();case 1:return Z$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};Z$.v=function(){return Z$.h(null)};
Z$.h=function(a){$APP.nr=$APP.ry;$APP.br=$APP.mr=!0;var b=function(){var d=$APP.UH.h(a);return $APP.r(d)?d:0}(),c=esm_import$net.createServer(fia);return c.listen(b,"127.0.0.1",function(){var d=c.address(),e=d.address;return $APP.SH.l($APP.F([["Socket REPL listening on port ",$APP.t.h(d.port)," on host ",$APP.t.h(e)].join("")]))})};Z$.m=1;
var $$=function $$(a){switch(arguments.length){case 0:return $$.v();case 1:return $$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};$$.v=function(){return $$.h(null)};
$$.h=function(){$APP.nr=$APP.ry;$APP.br=$APP.mr=!0;$APP.r(X$)&&process.stdin.setRawMode(!0);return Promise.resolve(eval("globalThis.user \x3d globalThis.user || {};")).then(function(){return new Promise(function(a){var b=$APP.r(null)?esm_import$readline.createInterface({input:null,output:null}):esm_import$readline.createInterface({input:process.stdin,output:process.stdout});O$(b,null);b.setPrompt([$APP.t.h($APP.u(G$)),"\x3d\x3e "].join(""));b.on("close",a);return b.prompt()})})};$$.m=1;var T$=function T$(a){var c=esm_import$fs.readdirSync(a);return $APP.lg($APP.Zp.l(function(d){d=esm_import$path.resolve(a,d);return $APP.r(esm_import$fs.lstatSync(d).isDirectory())?T$.h?T$.h(d):T$.call(null,d):new $APP.I(null,1,5,$APP.N,[d],null)},$APP.F([c])))},kia=new $APP.I(null,7,5,$APP.N,[new $APP.n(null,3,[i$,new $APP.I(null,1,5,$APP.N,["run"],null),$APP.yo,function(a){a=$APP.jf(a);a=$APP.fe.g(a,$APP.VH);var b=$APP.u($APP.vH),c=$APP.Qk.l($APP.F([b,a]));a=$APP.jf(c);var d=$APP.fe.g(a,$APP.$k);
a=$APP.fe.g(a,U$);if($APP.r(a))return null;$APP.SH.l($APP.F(["[squint] Running",d]));return $APP.MH($APP.Rh.l(c,$APP.HH,d,$APP.F([$APP.vr,function(e){return Q$(c,d,e)}]))).then(function(e){e=$APP.jf(e);e=$APP.fe.g(e,$APP.JH);e=$APP.r(esm_import$path.isAbsolute(e))?e:esm_import$path.resolve(process.cwd(),e);e=$APP.t.h(esm_import$url.pathToFileURL(e));return shadow_esm_import(e)})},z$,new $APP.I(null,1,5,$APP.N,[$APP.$k],null)],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["compile"],null),
$APP.yo,function(a){var b=$APP.jf(a);a=$APP.fe.g(b,W$);b=$APP.fe.g(b,$APP.VH);return V$(b,a)}],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["repl"],null),$APP.yo,$$],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["socket-repl"],null),$APP.yo,Z$],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["nrepl-server"],null),$APP.yo,function(a){a=$APP.jf(a);var b=$APP.fe.g(a,$APP.VH);return shadow_esm_import("./node.nrepl_server.js").then(function(c){c=c.startServer;return c.h?c.h(b):
c.call(null,b)})}],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["watch"],null),$APP.yo,function(a){a=$APP.jf(a);a=$APP.fe.g(a,$APP.VH);return gia(a)}],null),new $APP.n(null,2,[i$,$APP.kg,$APP.yo,function(a){a=$APP.jf(a);var b=$APP.fe.g(a,W$),c=$APP.fe.g(a,$APP.VH);a=$APP.SE.h(c);if($APP.r(a)){if($APP.r(U$.h(c)))return $APP.SH.l($APP.F(["Usage: squint -e \x3cexpr\x3e \x3copts\x3e\n\nOptions:\n\n--no-run: do not run compiled expression\n--show:   print compiled expression"]));a=$APP.r($APP.Rt.h(c))?
$APP.Zj("(do %s\n)","%s",a):a;a=$APP.aH.g(a,$APP.Rh.l(c,$APP.Rt,$APP.Rt.h(c),$APP.F([$APP.Hr,$APP.Vi.h(new $APP.n(null,1,[$APP.to,$APP.ry],null)),$APP.Kp,$APP.r($APP.Rt.h(c))?$APP.Pp:$APP.Qp,$APP.pu,function(){var f=$APP.Rt.h(c);return $APP.r(f)?!1!==$APP.pu.h(c):f}()])));a=$APP.r($APP.Rt.h(c))?$APP.Zj("(async function() { %s })()","%s",a):a;var d=esm_import$fs.mkdtempSync(".tmp"),e=[$APP.t.h(d),"/squint.mjs"].join("");esm_import$fs.writeFileSync(e,a,"utf-8");$APP.r(hia.h(c))&&$APP.SH.l($APP.F([a]));
if(!1===iia.h(c))return null;e=$APP.r(esm_import$path.isAbsolute(e))?e:esm_import$path.resolve(process.cwd(),e);e=$APP.t.h(esm_import$url.pathToFileURL(e));return($APP.r($APP.Rt.h(c))?Promise.resolve(eval(a)):shadow_esm_import(e)).then(function(f){return $APP.r($APP.Rt.h(c))?$APP.RH.l($APP.F([f])):null}).finally(function(){return esm_import$fs.rmSync(d,{force:!0,recursive:!0})})}return $APP.r(function(){var f=U$.h(c);return $APP.r(f)?f:$APP.A.g("help",$APP.y(b))||$APP.Qd(b)}())?$APP.SH.l($APP.F(["Squint v0.8.123\n\nUsage: squint \x3csubcommand\x3e \x3copts\x3e\n\nSubcommands:\n\n-e           \x3cexpr\x3e       Compile and run expression.\nrun       \x3cfile.cljs\x3e     Compile and run a file\nwatch                     Watch :paths in squint.edn\ncompile   \x3cfile.cljs\x3e ... Compile file(s)\nrepl                      Start repl\nhelp                      Print this help\n\nUse squint \x3csubcommand\x3e --help to show more info."])):
V$(c,b)}],null)],null);(function(){var a=new $APP.n(null,2,[$APP.Kr,new $APP.n(null,1,[jia,U$],null),d$,new $APP.n(null,6,[$APP.pu,o$,$APP.Lr,o$,$APP.LH,$APP.nl,$APP.Rt,o$,$APP.uH,new $APP.I(null,1,5,$APP.N,[$APP.nl],null),$APP.KH,$APP.nl],null)],null),b=k$(process.argv.slice(2),a),c=$APP.jf(b),d=$APP.fe.g(c,i$),e=$APP.fe.g(c,j$);return $APP.ne.j(function(f,k){f=$APP.jf(k);var l=$APP.fe.g(f,i$),m=$APP.fe.g(f,$APP.yo),h=dia(l,d);if($APP.r(h)){k=function(){var v=null==h?null:$APP.x(h);return null==v?null:$APP.lg(v)}();k=
$APP.R.g(k,e);f=cia(k,U9(a,$APP.F([f])));k=$APP.jf(f);var q=$APP.fe.g(k,$APP.VH);f=$APP.fe.g(k,j$);k=$APP.fe.g(k,i$);var p=$APP.R.g(k,f);return $APP.ld(function(){var v=$APP.Rh.l(c,j$,p,$APP.F([W$,p,$APP.VH,q,$APP.ap,l]));return m.h?m.h(v):m.call(null,v)}())}return null},null,kia)})();